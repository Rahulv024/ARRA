@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- Color tokens (light/dark) ---------- */
:root {
  /* Light mode tokens tuned for a crisper, friendlier look */
  --bg: 250 251 252;          /* subtle tinted white */
  --text: 24 24 27;
  --muted: 99 102 106;        /* slightly darker for contrast */
  --card: 255 255 255;
  --border: 225 228 233;      /* softer border */
  --brand: 16 185 129;      /* emerald-500 */
  --brand-600: 5 150 105;   /* emerald-600 */
  --brand-700: 4 120 87;    /* emerald-700 */
  --accent: 59 130 246;     /* blue-500 */
  --ring: 52 211 153;       /* emerald-400 */
}

:root.dark {
  --bg: 9 9 11;
  --text: 244 244 245;
  --muted: 161 161 170;
  --card: 24 24 27;
  --border: 39 39 42;
  --brand: 16 185 129;
  --brand-600: 5 150 105;
  --brand-700: 4 120 87;
  --accent: 96 165 250;
  --ring: 52 211 153;
}

* { font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; }
html, body { height: 100%; background-color: rgb(var(--bg)); color: rgb(var(--text)); }

/* ---------- Reusable pieces ---------- */
@layer components {
  .card { @apply rounded-2xl border transition-shadow duration-200; border-color: rgb(var(--border)); background-color: rgb(var(--card)); box-shadow: 0 1px 2px rgba(2,6,23,0.06), 0 8px 30px rgba(2,6,23,0.04); }
  .card:hover { box-shadow: 0 2px 6px rgba(2,6,23,0.08), 0 10px 40px rgba(2,6,23,0.06); }

  .btn { @apply inline-flex items-center justify-center gap-2 rounded-xl border px-4 py-2 text-sm font-medium transition active:scale-[0.99]; border-color: rgb(var(--border)); background-color: rgb(255 255 255 / .6); backdrop-filter: saturate(120%) blur(2px); }
  .btn:hover { @apply dark:bg-zinc-800; background-color: rgb(255 255 255 / .9); box-shadow: 0 2px 10px rgba(2,6,23,0.06); }
  .btn.primary { color: white; background-image: linear-gradient(180deg, rgb(var(--brand)) 0%, rgb(var(--brand-600)) 100%); border-color: rgb(var(--brand)); box-shadow: 0 6px 16px rgba(16,185,129,0.25); }
  .btn.primary:hover { filter: brightness(0.98); box-shadow: 0 8px 18px rgba(16,185,129,0.3); }
  .btn.ghost { @apply border-transparent bg-transparent hover:bg-zinc-100 dark:hover:bg-zinc-800; }
  /* Muted/secondary: match surface/background instead of gray */
  .btn.muted {
    color: rgb(var(--text));
    background-color: rgb(var(--bg));
    border-color: rgb(var(--border));
  }
  .btn.muted:hover { filter: brightness(0.98); }
  /* Extra glow for hero CTA */
  .btn.hero-primary { box-shadow: 0 10px 32px rgba(16,185,129,0.45), 0 0 0 1px rgba(16,185,129,0.35) inset; }
  .btn.hero-primary:hover { box-shadow: 0 14px 40px rgba(16,185,129,0.55), 0 0 0 1px rgba(16,185,129,0.45) inset; }

  /* Inputs: high contrast in light/dark using tokens */
  .input {
    @apply w-full rounded-xl border px-3 py-2 outline-none caret-emerald-500;
    color: rgb(var(--text));
    background-color: rgb(var(--card));
    border-color: rgb(var(--border));
    box-shadow: inset 0 1px 0 rgba(2,6,23,0.03);
  }
  .input::placeholder { color: rgb(var(--muted)); opacity: .9; }
  .input:focus { box-shadow: 0 0 0 4px rgba(var(--ring) / .25), inset 0 1px 0 rgba(2,6,23,0.03); }

  .badge { @apply inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium; background-image: linear-gradient(180deg, rgba(var(--brand) / .12), rgba(var(--brand) / .08)); color: rgb(var(--brand-700)); border: 1px solid rgba(var(--brand) / .18); }

  .menu { @apply block w-full text-left px-3 py-2 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800; }
}

/* Hide footer on home when main contains a .home-viewport section */
main:has(> .home-viewport) + footer { display: none; }

/* ---------- Pretty mesh background helper ---------- */
.mesh {
  position: relative;
}
.mesh::before {
  content: "";
  position: absolute;
  inset: -120px -40px 0 -40px;
  z-index: -1;
  background:
    radial-gradient(700px 320px at 8% -10%, rgba(52,211,153,.28), transparent 60%),
    radial-gradient(540px 320px at 92% 110%, rgba(99,102,241,.22), transparent 60%),
    radial-gradient(460px 300px at 15% 110%, rgba(56,189,248,.20), transparent 60%);
  filter: blur(0px);
}
.dark .mesh::before {
  background:
    radial-gradient(600px 300px at 10% -10%, rgba(52,211,153,.15), transparent 60%),
    radial-gradient(500px 300px at 90% 110%, rgba(99,102,241,.14), transparent 60%),
    radial-gradient(400px 260px at 10% 110%, rgba(56,189,248,.12), transparent 60%);
}

/* Grid helper for recipe cards */
.grid-cards { @apply grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4; }
